!function(e){Drupal.behaviors.ucl_indigo_access_ucl={attach:function(i,t){e(document).ready((function(){function i(i,t){t&&e(t).css("display","none"),i&&e(i).fadeIn("slow")}function t(i){for(var t=Object.getOwnPropertyNames(messages),a=0;a<t.length;a++)e(i+" ."+t[a]).text(messages[t[a]]);e(i).fadeIn("fast")}void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")}),e("#access-ucl-widget").after('<div id="access-ucl-form">Access UCL widget loading</div>'),e("body").on("change","input[type='radio']",(function(){for(var i=["domiciled","attend","history","attend-private","care-leaver","estranged"],t=!1,a=0;a<i.length;a++){var s=e("input[name='"+i[a]+"']");t&&s.is("input")&&s.prop("checked",!1),e(this).attr("name")==i[a]&&(t=!0)}})),e("body").on("click","input[name='attend']",(function(){s={},"N"==e(this).val()?i("#ineligible-school,#resetter","#postcode-test,#eligible,#ineligible,#indeterminate,#indeterminate-alt,#estranged,#case-by-case"):i("#postcode-test,#resetter","#eligible,#ineligible,#indeterminate,#indeterminate-alt,#case-by-case,#ineligible-school")}));var a="2025",s={},l=location.href.indexOf("local-micro.lndo.site")>-1?"https://local-micro.lndo.site/access-ucl/www/eligibility-2025.php":location.href.indexOf("wwwapps-uat.ucl.ac.uk")>-1?"https://wwwapps-uat.ucl.ac.uk/digital-presence-services/access-ucl/www/eligibility-2025.php":"https://www.ucl.ac.uk/digital-presence-services/access-ucl/www/eligibility-2025.php";e("body").on("submit","#checker-widget",(function(o){var r,n;o.preventDefault(),e("#ajax-spinner").is("div")||e("body").prepend('<div class="hiddenField" id="ajax-spinner">Loading<br/><img src="//cdn.ucl.ac.uk/skins/UCLIndigoSkin/default-theme/images/iris/ajax-loader.gif" alt="Loading..."></div><div id="lightbox"></div>'),e("input[name='postcode']").val()?((n=e("#lightbox")).css("height",e(window).height()+"px"),n.css("width",e(window).width()+"px"),n.css("top",e(window).scrollTop()+"px"),function(i){i.css("position","absolute"),i.css("top",Math.max(0,(e(window).height()-e(i).outerHeight())/2+e(window).scrollTop())+"px"),i.css("left",Math.max(0,(e(window).width()-e(i).outerWidth())/2+e(window).scrollLeft())+"px")}(e("#ajax-spinner")),i("#ajax-spinner,#lightbox"),messages={imd:"Your postcode is not IMD eligible.",tundra:"Your postcode is not TUNDRA eligible."},e(".errorField").removeClass("errorField"),s.pc=(" "!=(r=e("input[name='postcode']").val()).charAt(r.length-4)&&(r=r.substring(0,r.length-3)+" "+r.substring(r.length-3)),r),s.year=a,e.get(l,s,(function(a){var s=!1,l=!1,o=!1;a?(console.log(a),6==a.tundra&&11==a.imd_decile?(e("input[name='postcode']").parent().addClass("errorField"),alert("Your home postcode does not appear in our database. Please double-check you have entered it correctly.  Please contact us at wp.accessucl@ucl.ac.uk if it is still not recognised."),i("","#ajax-spinner,#lightbox")):(null===a.tundra||""===a.tundra||0===a.tundra||"0"==a.tundra||"NULL"==a.tundra||"R"==a.tundra?(l=!0,o=!0,messages.tundra="Your postcode is not available in our TUNDRA database."):""!==a.tundra&&"0"!=a.tundra&&a.tundra>0&&a.tundra<2&&(s=!0,messages.tundra="Your postcode is TUNDRA eligible."),null===a.imd_decile||""===a.imd_decile||0===a.imd_decile||"0"==a.imd_decile||"NULL"==a.imd_decile?(l=!0,o=!1,messages.imd="Your postcode is not available in our IMD database."):""!==a.imd_decile&&"0"!=a.imd_decile&&a.imd_decile>0&&a.imd_decile<3&&(s=!0,messages.imd="Your postcode is IMD eligible."),console.log(o),s?(i("#eligible","#ineligible,#ineligible-school,#indeterminate,#indeterminate-alt,#case-by-case,#ajax-spinner,#lightbox"),t("#postcode-checked-pass")):o?(i("#indeterminate-alt","#indeterminate,#eligible,#ineligible,#case-by-case,#ajax-spinner,#lightbox"),t("#postcode-checked-indeterminate-alt")):l?(i("#indeterminate","#eligible,#ineligible,#indeterminate-alt,#case-by-case,#ajax-spinner,#lightbox"),t("#postcode-checked-indeterminate")):(i("#ineligible","#eligible,#indeterminate,#indeterminate-alt,#case-by-case,#ajax-spinner,#lightbox,#postcode-criteria-msg"),t("#postcode-checked-nopass")))):(e("input[name='postcode']").parent().addClass("errorField"),alert("You have entered an invalid home postcode. Please check and try again."),i("","#ajax-spinner,#lightbox"))}),"jsonp")):e("input[name='postcode']").parent().addClass("errorField")})),e("body").on("click","#form-reset",(function(){i("#attend-uk","#postcode-test,#eligible,#ineligible,#indeterminate,#indeterminate-alt,#case-by-case,#ineligible-school,#resetter"),s={}}));e("#access-ucl-form").html('<form action="" method="get" id="checker-widget" autocomplete="off">    <fieldset>      <h3 class="darr">Start here &darr;</h3>      <div class="field" id="attend-uk">          <div>Are you attending (or did you attend) a UK state school while completing the A levels (or equivalent qualifications) that you would use to meet UCL\'s entry requirements?</div>          <div><label><input type="radio" name="attend" value="Y"> Yes</label></div>          <div><label><input type="radio" name="attend" value="N"> No</label></div>      </div>      <div id="postcode-test" class="hiddenField">          <div class="field">              <p class="darr">&nbsp;</p>              <p>You may be eligible for Access UCL through your home postcode, please enter your home postcode in the box below.  By home postcode, UCL means the postcode of the address at which an applicant is ordinarily resident.  Please note that if you are not currently living in the U.K., you will not be eligible for Access UCL.</p>              <label>Enter your home postcode</label>              <input type="text" class="postcodefield" name="postcode" value="" />          </div>              <div class="field submitter" id="submitter">              <input type="submit" class="access-button btn-cta" value="Check my eligibility &rsaquo;" />          </div>      </div>      <div class="hiddenField" id="indeterminate">          <p class="darr">&darr;</p>          <div class="entity entity-paragraphs-item paragraphs-item-alert-box alert alert-warn clearfix">              <div class="alert__icon">                  <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="#0d68cf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle icon" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>              </div>              <div class="alert__content">                  <h4>Sorry, we cannot determine whether you are eligible for Access UCL</h4>                  <div id="postcode-checked-indeterminate" class="hiddenField">                      <ul>                          <li class="imd"></li>                          <li class="tundra"></li>                      </ul>                      <p style="padding-top:10px;">Your postcode is not available in our database, please contact <a href="mailto:wp.accessucl@ucl.ac.uk">wp.accessucl@ucl.ac.uk</a> to check your eligibility.</p>                  </div>              </div>          </div>      </div>      <div class="hiddenField" id="indeterminate-alt">          <p class="darr">&darr;</p>          <div class="entity entity-paragraphs-item paragraphs-item-alert-box alert alert-warn clearfix">              <div class="alert__icon">                  <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="#0d68cf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle icon" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>              </div>              <div class="alert__content">                  <h4>Please read the information below</h4>                  <div id="postcode-checked-indeterminate-alt" class="hiddenField">                      <ul>                          <li class="imd"></li>                          <li class="tundra"></li>                      </ul>                      <p style="padding-top:10px;"><strong>If you live in England:</strong> Please contact us at <a href="mailto:wp.accessucl@ucl.ac.uk">wp.accessucl@ucl.ac.uk</a> to tell us your postcode has not been found in our database, and we will look into your eligibility for Access UCL.</p>                      <p style="padding-top:10px;"><strong>If you live in Wales, Northern Ireland, or Scotland:</strong> TUNDRA does not apply, and you can only meet the Access UCL postcode eligibility criteria through the IMD value. Your postcode is not eligible through IMD, therefore you will not be eligible for Access UCL unless you are care experienced or estranged from your parents. Please see the information below for the full eligibility criteria for Access UCL through these routes.</p>                  </div>              </div>          </div>      </div>      <div class="hiddenField" id="ineligible">          <p class="darr">&darr;</p>          <div class="entity entity-paragraphs-item paragraphs-item-alert-box alert alert-warn clearfix">              <div class="alert__icon">                  <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="#0d68cf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle icon" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>              </div>              <div class="alert__content">                  <h4>Sorry, you are not eligible for Access UCL</h4>                  <p>Unfortunately, the answers you have provided indicate that your postcode does not meet the Access UCL eligibility criteria.</p>                  <div id="postcode-checked-nopass" class="hiddenField">                      <ul>                          <li class="imd"></li>                          <li class="tundra"></li>                      </ul>                  </div>                  <p style="padding-top:10px;">As you do not meet either of the home postcode criteria you are not eligible for Access UCL through this route.</p>                  <p style="padding-top:10px;">If you are care experienced, or estranged from both parents, you may be eligible for Access UCL.  Please see the information below for the full eligibility criteria for Access UCL through these routes.</p>                  <p style="padding-top:10px;">If you do not meet the care experienced or estranged criteria, based on the information you\'ve provided, if your application to UCL is successful, you will receive the standard UCL offer, not an Access UCL offer.</p>              </div>          </div>      </div>      <div class="hiddenField" id="ineligible-school">          <p class="darr">&darr;</p>          <div class="entity entity-paragraphs-item paragraphs-item-alert-box alert alert-warn clearfix">              <div class="alert__icon">                  <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="#0d68cf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle icon" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>              </div>              <div class="alert__content">              <h4>Sorry, you are not eligible for Access UCL</h4>                  <p style="padding-top:10px;">Unfortunately, the answer you have provided indicates that you do not meet the postcode eligibility of the Access UCL scheme.  To meet the eligibility requirements of Access UCL through home postcode, applicants who live in an eligible postcode must also attend a UK state school to complete their A levels (or equivalent qualifications).</p>                  <p style="padding-top:10px;">If you are care experienced and attend a UK independent school, you may be eligible for Access UCL.  Please see the information below for the full eligibility criteria for Access UCL for applicants who are care experienced.</p>                  <p style="padding-top:10px;">If you have any questions, you can contact us at <a href="mailto:wp.accessucl@ucl.ac.uk">wp.accessucl@ucl.ac.uk</a>.</p>              </div>          </div>      </div>      <div class="hiddenField" id="eligible">          <p class="darr">&darr;</p>          <div class="entity entity-paragraphs-item paragraphs-item-alert-box alert alert-success clearfix">              <div class="alert__icon">                  <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="#0d68cf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle icon" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>              </div>              <div class="alert__content">                  <h4>Great news! You are eligible for Access UCL</h4>                  <p>The answers you have provided indicate that you are eligible for Access UCL.</p>                  <div id="postcode-checked-pass" class="hiddenField">                      <ul>                          <li class="imd"></li>                          <li class="tundra"></li>                      </ul>                      <p>As you meet at least one of the home postcode criteria, and attended a UK state school, you are eligible for Access UCL.</p>                  </div>                  <p style="padding-top:10px;">Based on the information you\'ve provided, if your application to UCL is successful, you will receive an Access UCL offer.</p>              </div>          </div>      </div>      <div class="hiddenField" id="case-by-case">          <p class="darr">&darr;</p>          <div class="entity entity-paragraphs-item paragraphs-item-alert-box alert alert-info clearfix">              <div class="alert__icon">                  <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="#0d68cf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle icon" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>              </div>              <div class="alert__content">                  <h4>You may still be eligible for Access UCL</h4>                  <p id="maybe-text">Students who attend or attended a UK private school who are care leavers are considered on a case-by-case basis. Email <a href="mailto:wp.accessucl@ucl.ac.uk">wp.accessucl@ucl.ac.uk</a> with your personal details for a decision.</p>              </div>          </div>      </div>    </fieldset>    <div class="field hiddenField" id="resetter">        <p class="darr">&nbsp;</p>        <input type="reset" class="access-button btn-cta" id="form-reset" value="Start again &olarr;" />    </div></form>'),e(".hiddenField").css("display","none"),e("#checker-widget").trigger("reset")}))}}}(jQuery,Drupal);